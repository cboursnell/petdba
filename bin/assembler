#!/usr/bin/env ruby

require 'trollop'
require 'assembler'

opts = Trollop::options do

  banner <<-EOS

  Assembler v0.0.1 by Chris Boursnell (cmb211@cam.ac.uk)

  OPTIONS:

  EOS
  opt :left, "fastq file", :type => String
  opt :right, "fastq file", :type => String
  opt :k, "k", :type => :int, :default => 21
  opt :memory, "memory", :type => :int, :default => 1
  opt :tables, "tables", :type => :int, :default => 3
end

table_size = (1e9*opts.memory/opts.tables).to_i
memory = (1e9*opts.memory).to_i

a = Assembler::Assembler.new(table_size, opts.tables, opts.k)